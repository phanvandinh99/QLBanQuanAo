{% extends "layout.html" %}
{%block content%}

<style>
/* Articles List Custom Styles */
.articles-list-page {
    min-height: 100vh;
}

/* Card hover effects */
.articles-list-page .card:hover {
    transform: translateY(-8px) !important;
    box-shadow: 0 20px 40px rgba(12, 175, 229, 0.2) !important;
}

.articles-list-page .card:hover img {
    transform: scale(1.05) !important;
}

.articles-list-page .card:hover .card-title a {
    color: #0cafe5 !important;
}

.articles-list-page .btn:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(12, 175, 229, 0.4) !important;
}

/* Pagination hover effects */
.articles-list-page .page-link:hover {
    background: linear-gradient(135deg, #667eea 0%, #0cafe5 100%) !important;
    color: white !important;
    border: none !important;
    transform: translateY(-1px) !important;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .articles-list-page .box-head {
        padding: 20px !important;
    }

    .articles-list-page .head-title {
        font-size: 2rem !important;
    }

    .articles-list-page .card-image {
        height: 180px !important;
    }

    .articles-list-page .card-content {
        padding: 20px !important;
    }

    .articles-list-page .st-pagination {
        padding: 15px !important;
    }
}

@media (max-width: 576px) {
    .articles-list-page .head-title {
        font-size: 1.8rem !important;
    }

    .articles-list-page .card {
        margin-bottom: 20px !important;
    }
}

/* Smooth animations */
.articles-list-page * {
    transition: all 0.3s ease;
}
</style>

<div class="articles-list-page" style="background: linear-gradient(135deg, #f8f9fa 0%, #e3f2fd 100%); min-height: 100vh;">
    <div class="container" style="padding-top: 25px; padding-bottom: 40px;">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="box">
                    <div class="box-head" style="background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border-radius: 15px; padding: 30px; border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 32px rgba(12, 175, 229, 0.1);">
                        <h3 class="head-title" style="color: #2d3748; font-weight: 700; font-size: 2.5rem; margin-bottom: 15px; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">
                            üìù T·∫•t c·∫£ b√†i vi·∫øt
                        </h3>
                        <p style="color: #4a5568; font-size: 18px; font-weight: 400; margin-bottom: 0;">
                            Kh√°m ph√° t·∫•t c·∫£ c√°c b√†i vi·∫øt v·ªÅ c√¥ng ngh·ªá v√† s·∫£n ph·∫©m c·ªßa ch√∫ng t√¥i
                        </p>
                    </div>
                </div>
            </div>
        </div>

        {% if articles.items %}
        <div class="row">
            {% for article in articles.items %}
            <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12" style="margin-bottom: 30px;">
                <div class="card h-100" style="border-radius: 15px; overflow: hidden; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 32px rgba(12, 175, 229, 0.1); transition: all 0.3s ease;">
                    <div class="card-image" style="height: 200px; overflow: hidden; position: relative;">
                        {% if article.cover_image and article.cover_image != 'article-default.jpg' %}
                        <img src="{{ url_for('static', filename='images/articles/' + article.cover_image) }}"
                             alt="{{ article.title }}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;">
                        {% else %}
                        <img src="{{ url_for('static', filename='images/article-default.jpg') }}"
                             alt="{{ article.title }}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;">
                        {% endif %}
                        <!-- Subtle overlay -->
                        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(to bottom, rgba(12, 175, 229, 0.1) 0%, rgba(102, 126, 234, 0.1) 100%);"></div>
                    </div>
                    <div class="card-content" style="padding: 25px;">
                        <h5 class="card-title" style="font-size: 18px; font-weight: 700; margin-bottom: 12px; color: #2d3748; line-height: 1.4;">
                            <a href="{{ url_for('article_detail', slug=article.slug) }}" style="text-decoration: none; color: #2d3748; transition: color 0.3s ease;">
                                {{ article.title }}
                            </a>
                        </h5>
                        <p class="card-text" style="color: #4a5568; font-size: 14px; line-height: 1.6; margin-bottom: 20px;">
                            {{ article.content | truncate(150) | safe }}
                        </p>
                        <div class="article-meta" style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="display: flex; align-items: center;">
                                <div style="width: 8px; height: 8px; border-radius: 50%; background: linear-gradient(135deg, #667eea, #0cafe5); margin-right: 8px;"></div>
                                <small style="color: #718096; font-weight: 500;">
                                    {{ article.created_at.strftime('%d/%m/%Y') }}
                                </small>
                            </div>
                            <a href="{{ url_for('article_detail', slug=article.slug) }}"
                               class="btn btn-sm rounded-pill" style="background: linear-gradient(135deg, #667eea 0%, #0cafe5 100%); color: white; border: none; font-weight: 500; font-size: 13px; padding: 6px 12px; box-shadow: 0 4px 15px rgba(12, 175, 229, 0.3); transition: all 0.3s ease;">
                                ƒê·ªçc th√™m <i class="fa fa-arrow-right ms-1"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Pagination -->
        {% if articles.pages > 1 %}
        <div class="row">
            <div class="col text-center">
                <div class="st-pagination" style="background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border-radius: 15px; padding: 20px; border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 32px rgba(12, 175, 229, 0.1); display: inline-block;">
                    <ul class="pagination" style="margin-bottom: 0;">
                        {% if articles.has_prev %}
                        <li class="page-item">
                            <a href="{{url_for('articles_list', page=articles.prev_num)}}"
                               aria-label="previous" class="page-link" style="background: linear-gradient(135deg, #667eea 0%, #0cafe5 100%); color: white; border: none; border-radius: 8px; margin: 0 2px;">
                                <span aria-hidden="true">Previous</span>
                            </a>
                        </li>
                        {% endif %}
                        {% for page_num in articles.iter_pages(left_edge=1, right_edge=2,
                        left_current=1,right_current=2) %}
                        {% if page_num %}
                        {% if articles.page == page_num %}
                        <li class="page-item active">
                            <span class="page-link" style="background: linear-gradient(135deg, #667eea 0%, #0cafe5 100%); color: white; border: none; border-radius: 8px; margin: 0 2px;">{{page_num}}</span>
                        </li>
                        {% else %}
                        <li class="page-item">
                            <a href="{{url_for('articles_list', page=page_num)}}" class="page-link" style="background: rgba(255, 255, 255, 0.9); color: #0cafe5; border: 2px solid #0cafe5; border-radius: 8px; margin: 0 2px; transition: all 0.3s ease;">{{page_num}}</a>
                        </li>
                        {% endif %}
                        {% endif %}
                        {% endfor %}
                        {% if articles.has_next %}
                        <li class="page-item">
                            <a href="{{url_for('articles_list', page=articles.next_num)}}"
                               aria-label="Next" class="page-link" style="background: linear-gradient(135deg, #667eea 0%, #0cafe5 100%); color: white; border: none; border-radius: 8px; margin: 0 2px;">
                                <span aria-hidden="true">Next</span>
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
        {% endif %}

        {% else %}
        <div class="row">
            <div class="col text-center">
                <div style="background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border-radius: 20px; padding: 50px 30px; border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 32px rgba(12, 175, 229, 0.1); display: inline-block;">
                    <i class="fa fa-newspaper-o" style="font-size: 64px; background: linear-gradient(135deg, #667eea, #0cafe5); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 20px;"></i>
                    <h4 style="color: #2d3748; font-weight: 600;">Ch∆∞a c√≥ b√†i vi·∫øt n√†o</h4>
                    <p style="color: #718096; font-size: 16px;">Ch√∫ng t√¥i ƒëang c·∫≠p nh·∫≠t n·ªôi dung. Vui l√≤ng quay l·∫°i sau!</p>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</div>

{% endblock content%}
